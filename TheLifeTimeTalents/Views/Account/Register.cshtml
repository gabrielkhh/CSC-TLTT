@{
    ViewData["Title"] = "Register";
}
<div class="container body-content">
    <h2>@ViewData["Title"].</h2>

    <form class="form-horizontal smaller-width">
        <h4>Create a new account.</h4>
        <hr />
        <div class="form-group">
            <label class="col-md-2 control-label">Email</label>
            <div class="col-md-10">
                <input type="text" id="txtEmail" class="form-control" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-2 control-label">Password</label>
            <div class="col-md-10">
                <input type="password" id="txtPassword" class="form-control" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-2 control-label">Confirm Password</label>
            <div class="col-md-10">
                <input type="password" id="txtConfirmPassword" class="form-control" />
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <button id="btnRegister" type="submit" class="btn btn-default">Register</button>
            </div>
        </div>

        <div id="divError" class="alert alert-danger collapse">
            <a id="linkClose" href="#" class="close">&times;</a>
            <div id="divErrorText"></div>
        </div>

    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {

        //NO FRONT END VALIDATION YET

        // Save the new user details
        $('#btnRegister').click(function () {

            //Using CORS
            $.ajax({
                url: 'https://public-api.wordpress.com/rest/v1/sites/' + site_id + '/posts/new',
                type: 'POST',
                data: {
                    email: $('#txtEmail').val(),
                    password: $('#txtPassword').val(),
                    confirmPassword: $('#txtConfirmPassword').val()
                },
                beforeSend: function (xhr) {
                    xhr.setRequestHeader("Authorization", "BEARER " + access_token);
                },
                success: function (response) {
                    console.log("Success")
                }
            });
        });
    });
</script>
